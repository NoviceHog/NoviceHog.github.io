---
layout: single
title:  "[C#] 쓰레드"
categories: 
    - C Sharp
tag: [c#]
published: true

author_profile: true # 옆에뜨는 프로파일

date: 2024-06-15
last_modified_at: 2024-06-15
---
<!-- 
{: .notice--warning} // 알림 강조
{: .notice--success} // 초록색 강조
{: .notice--danger } // 초록색 강조
{: .notice--info}
{: .notice--primary}
{: .notice}

{: .H1-font}         // 제목 색
<span style="color:Skyblue"> 색 넣기 </span>
<br/> 한줄 내리기
 -->
이 글은 Rookiss님의  **[C#과 유니티로 만드는 MMORPG 게임 개발 시리즈] Part4: 게임 서버**를 보고 헷갈리는 부분 위주로 정리한 글입니다. 틀리거나 부족한 부분이 있을 수 있습니다.
{: .notice--warning}

# Thread
C#에서는 Thread기능을 지원하는 `Thread`클래스가 있다. <br>
Thread클래스를 통해 Thread를 생성하고 함수를 실행하는 방법은 다음과 같다.


```cs
using System.Threading;

internal class Program
{
    static void MainThread(object state)
    {
        for(int i = 0; i < 10; i++)
        {
            Console.WriteLine("Hello Thread");
        }
    }

    static void Main(string[] args)
    {
        Thread t = new Thread(MainThread);  // 쓰레드를 생성 (매개변수로 함수를 받음)
        t.Start();                          // 쓰레드 시작
    }
}
```


***
C#에서 제공하는 Thread는 기본적으로 `foreground`에서 쓰레드가 실행된다. <br>
그렇기 때문에 Main함수가 종료되어도 쓰레드가 아직 실행중이라면 끝나지 않는다.

```cs
internal class Program
{
    // 영원히 지속되는 함수
    static void MainThread(object state) 
    {
        while (true) 
            Console.WriteLine("Hello Thread");
        
    }

    static void Main(string[] args)
    {
        Thread t = new Thread(MainThread);
        t.Start();

        Console.WriteLine("Main 함수 끝");
    }
}
```

위 코드의 경우 Main함수가 끝나도 쓰레드 함수가 계속 실행되는 모습을 볼 수 있음.

![쓰레드가 무한히 지속됨](https://github.com/novicehog/comments/assets/131991619/b4a52eb9-bcb8-4ebd-bd74-e85a8c1bded7)